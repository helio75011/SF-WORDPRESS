

/*!
 * Mobile plugin for jQuery Magnify (https://thdoan.github.io/magnify/)
 *
 * jQuery Magnify by T. H. Doan is licensed under the MIT License.
 * Read a copy of the license in the LICENSE file or at https://choosealicense.com/licenses/mit/
 */
(function(a){if(!a.fn.magnify){return}a("<style>.lens-mobile {position:fixed;top:0;left:0;width:100%;height:100%;background:#ccc;display:none;overflow:scroll;-webkit-overflow-scrolling:touch;z-index:9999;}.magnify-mobile>.close {position:fixed;top:10px;right:10px;width:32px;height:32px;background:#333;border-radius:16px;color:#fff;display:inline-block;font:normal bold 20px/32px sans-serif;letter-spacing:0;opacity:0.8;text-align:center;text-shadow:none;z-index:9999;}@media only screen and (min-device-width:320px) and (max-device-width:773px) {/* Assume QHD (1440 x 2560) is highest mobile resolution */.lens-mobile { display:block; }}</style>").appendTo("head");a(window).on("load",function(){a("body").append('<div class="magnify-mobile"><div class="lens-mobile"></div></div>');var b=a(".lens-mobile");if(b.is(":visible")&&!!("ontouchstart" in window||(window.DocumentTouch&&document instanceof DocumentTouch)||navigator.msMaxTouchPoints)){var c=a(".magnify"),d=a(".magnify-mobile");c.off();d.hide().append('<i class="close">Ã—</i>');d.children(".close").on(c.data("mobileCloseEvent"),function(){d.toggle()});c.children("img").on({touchend:function(){if(a(this).data("drag")){return}var e=a(this).data("scrollOffset");d.toggle();b.scrollLeft(e.x);b.scrollTop(e.y)},touchmove:function(){a(this).data("drag",true)},touchstart:function(j){b.html('<img src="'+a(this).prev(".magnify-lens").css("background-image").replace(/url\(["']?|["']?\)/g,"")+'" alt="">');var g=a(this),i=g.data("zoomSize"),l=j.originalEvent.touches[0].pageX-g.offset().left,h=l/g.width(),k=j.originalEvent.touches[0].pageY-g.offset().top,f=k/g.height();g.data("scrollOffset",{x:(i.width*h)-(window.innerWidth/2),y:(i.height*f)-(window.innerHeight/2)});a(this).data("drag",false)}})}})}(jQuery));