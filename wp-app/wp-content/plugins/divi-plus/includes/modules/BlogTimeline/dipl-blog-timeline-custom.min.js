jQuery(document).ready(function(i){function t(t){var e=t.find(".dipl_blog_timeline_post").first().innerHeight()/2,l="calc( 100% - "+(e+t.find(".dipl_blog_timeline_post").last().innerHeight()/2+"px")+" )",n=e+"px";t.find(".dipl_stem_wrapper").css("height",l),t.find(".dipl_stem_wrapper").css("top",n);var _=t.find(".dipl_blog_timeline_wrapper"),d=_.find(".dipl_blog_timeline_post .dipl_blog_timeline_stem_center").first().offset().top,o=_.find(".dipl_blog_timeline_post .dipl_blog_timeline_stem_center").last().offset().top,p=screen.height/2;parseFloat(i(this).find(".dipl_stem_wrapper").outerWidth()),t.find(".dipl_blog_timeline_post").first().offset().top;if(d<p){var s=t.find(".dipl_stem_wrapper").innerHeight(),r=p-o<o-d-10?p-d+"px":o-d-10+"px";t.find(".dipl_blog_stem").css("height",r),t.find(".dipl_blog_timeline_stem_center").each(function(){i(this).offset().top<p&&i(this).find(".dipl_blog_timeline_post_icon").addClass("dipl_icon_fill")}),i(window).height()>=i(document).height()&&(t.find(".dipl_blog_stem").css("height",s),t.find(".dipl_blog_timeline_stem_center").each(function(){i(this).find(".dipl_blog_timeline_post_icon").addClass("dipl_icon_fill")}))}i(window).on("scroll",function(){var e=t.find(".dipl_stem_wrapper").innerHeight(),l=i(window).scrollTop(),n=l+(p-d)+"px";parseFloat(n)<parseFloat(e)&&t.find(".dipl_blog_stem").css("height",n),t.find(".dipl_blog_timeline_post").each(function(){var t=i(this).find(".dipl_blog_timeline_stem_center");t.offset().top<p+l?t.find(".dipl_blog_timeline_post_icon").addClass("dipl_icon_fill"):t.find(".dipl_blog_timeline_post_icon").removeClass("dipl_icon_fill")}),i(window).scrollTop()+i(window).height()>i(document).height()-50&&(t.find(".dipl_blog_stem").css("height",e),t.find(".dipl_blog_timeline_stem_center .dipl_blog_timeline_post_icon").addClass("dipl_icon_fill"))})}jQuery("body").find(".dipl_blog_timeline").length>0&&(i(window).resize(function(){i("body").find(".dipl_blog_timeline").each(function(){var e=i(this);if(e.find(".dipl_blog_timeline_post").length>0&&t(e),jQuery(window).width()>767){if(e.find(".layout2.dipl_blog_timeline_right").length>0){var l=i(this).find(".dipl_blog_timeline_outer_container").outerWidth()+i(this).find(".dipl_blog_timeline_stem_center").outerWidth()/2+10+"px";i(this).find(".dipl_stem_wrapper").css("left",l)}if(e.find(".layout2.dipl_blog_timeline_left").length>0){l=i(this).find(".dipl_blog_timeline_outer_container").outerWidth()+i(this).find(".dipl_blog_timeline_stem_center").outerWidth()/2+10+"px";i(this).find(".dipl_stem_wrapper").css("right",l)}}else{if(e.find(".layout2.dipl_blog_timeline_right").length>0){l=i(this).find(".dipl_blog_timeline_stem_center").outerWidth()/2+"px";i(this).find(".dipl_stem_wrapper").css("left",l)}if(e.find(".layout2.dipl_blog_timeline_left").length>0){l=i(this).find(".dipl_blog_timeline_stem_center").outerWidth()/2+"px";i(this).find(".dipl_stem_wrapper").css("right",l)}}})}),i("body").find(".dipl_blog_timeline").each(function(){var e=i(this);if(e.find(".dipl_blog_timeline_post").length>0&&t(e),jQuery(window).width()>767){if(e.find(".layout2.dipl_blog_timeline_right").length>0){var l=Math.max.apply(null,e.find(".dipl_blog_timeline_outer_container").map(function(){return i(this).outerWidth()}).get());e.find(".dipl_blog_timeline_outer_container").each(function(){i(this).css("min-width",l+"px")});var n=i(this).find(".dipl_blog_timeline_stem_center").outerWidth(),_=l+n/2+10+"px";i(this).find(".dipl_stem_wrapper").css("left",_)}if(e.find(".layout2.dipl_blog_timeline_left").length>0){l=Math.max.apply(null,e.find(".dipl_blog_timeline_outer_container").map(function(){return i(this).outerWidth()}).get());e.find(".dipl_blog_timeline_outer_container").each(function(){i(this).css("min-width",l+"px")});n=i(this).find(".dipl_blog_timeline_stem_center").outerWidth(),_=l+n/2+10+"px";i(this).find(".dipl_stem_wrapper").css("right",_)}}else{if(e.find(".layout2.dipl_blog_timeline_right").length>0){_=(n=i(this).find(".dipl_blog_timeline_stem_center").outerWidth())/2+"px";i(this).find(".dipl_stem_wrapper").css("left",_)}if(e.find(".layout2.dipl_blog_timeline_left").length>0){_=(n=i(this).find(".dipl_blog_timeline_stem_center").outerWidth())/2+"px";i(this).find(".dipl_stem_wrapper").css("right",_)}}}))});