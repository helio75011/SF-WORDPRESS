jQuery(function(t){function a(){let a=parseFloat(t(window).width());t(".dipl_team_grid").find(".layout1").length>0&&t(".dipl_team_grid .layout1").find(".dipl_team_grid_item").each(function(){let i=parseFloat(t(this).data("padding_top_desktop")),e=parseFloat(t(this).data("padding_top_tablet")),d=parseFloat(t(this).data("padding_top_phone")),l=parseFloat(t(this).data("padding_bottom_desktop")),_=parseFloat(t(this).data("padding_bottom_tablet")),p=parseFloat(t(this).data("padding_bottom_phone")),n=a>980?i+l:a<768?d+p:e+_,r=t(this).find(".dipl_team_member_visible_wrapper").length>0?parseFloat(t(this).find(".dipl_team_member_visible_wrapper").height()):0,o=n+r;0===r?t(this).find(".dipl_team_overlay_wrapper").css("transform","translateY(100%)"):t(this).find(".dipl_team_overlay_wrapper").css("transform","translateY(calc(100% - "+o+"px ))")}),t(".dipl_team_grid").find(".layout2").length>0&&t(".dipl_team_grid .layout2").find(".dipl_team_grid_item").each(function(){let i=parseFloat(t(this).data("padding_top_desktop")),e=parseFloat(t(this).data("padding_top_tablet")),d=parseFloat(t(this).data("padding_top_phone")),l=parseFloat(t(this).data("padding_bottom_desktop")),_=parseFloat(t(this).data("padding_bottom_tablet")),p=parseFloat(t(this).data("padding_bottom_phone")),n=a>980?i+l:a<768?d+p:e+_,r=t(this).find(".dipl_team_member_visible_wrapper").length>0?parseFloat(t(this).find(".dipl_team_member_visible_wrapper").height()):0,o=n+r;0===r?t(this).find(".dipl_team_overlay_wrapper").css("transform","translateY(100%)"):t(this).find(".dipl_team_overlay_wrapper").css("transform","translateY(calc(100% - "+o+"px ))")})}a(),t(".dipl_team_grid").find(".dipl_team_popup").length>0&&t("body").on("click",".dipl_team_popup",function(a){if(t(a.target).is(t(this).find(".dipl_team_member_social_icon")))return;a.preventDefault();let i=t(this).closest(".dipl_team_popup"),e=i.data(),d="inside"===i.data("close_icon_position");i.addClass("dipl_team_lightbox_loader"),t.ajax({type:"POST",url:DiviPlusTeamGridData.ajaxurl,data:{action:"dipl_get_teamgrid_page",dipl_team_popup_nonce:DiviPlusTeamGridData.ajaxnonce,props:e},success:function(a){let e=i.closest(".dipl_team_grid").prop("class").match(/(dipl_team_grid\_[^\s]*)/)[0]+"_lightbox";i.removeClass("dipl_team_lightbox_loader"),t.magnificPopup.open({preloader:!0,items:{src:t(a),type:"inline"},callbacks:{open:function(){t("body").find(".dipl_team_member_lightbox .dipl_skill_bar_wrapper").length>0&&(t(".dipl_team_member_lightbox").find(".dipl_filled_bar").length>0&&t(".dipl_team_member_lightbox").find(".dipl_filled_bar").each(function(){let a=t(this);a.waypoint({handler:function(){let t=a.data("percent");a.css("width",t)},context:a})}),t(".dipl_team_member_lightbox").find(".dipl_bar_counter_chunks").length>0&&t(".dipl_team_member_lightbox").find(".dipl_bar_counter_filled_chunks").each(function(){let a=t(this);a.waypoint({handler:function(){a.addClass("dipl_animate_filled")},context:a})}))}},closeOnContentClick:!1,closeBtnInside:d,mainClass:"dipl_team_member_lightbox "+e})},error:function(){}})}),t("body").on("click",".dipl-team-items-categories li",function(){if(t(this).hasClass("dipl-team-active-category"))return!1;var i=t(this),e=i.data("id"),d=i.parents(".dipl_team_grid").find(".dipl-team-member-props").val();i.parents(".dipl_team_grid").find(".dipl_team_grid_container").addClass("dipl_team_lightbox_loader"),i.parents(".dipl-team-filterable-categories").find(".dipl-team-mobile-active-category").text(t(this).text()),t.ajax({type:"POST",url:DiviPlusTeamGridData.ajaxurl,data:{action:"dipl_filtered_team_items",security:DiviPlusTeamGridData.ajaxnonce,term_id:e,props:d},success:function(e){i.parents(".dipl_team_grid").find(".dipl_team_grid_container").removeClass("dipl_team_lightbox_loader"),""!==e&&(i.parent(".dipl-team-items-categories").find("li").removeClass("dipl-team-active-category"),i.addClass("dipl-team-active-category"),i.parents(".dipl_team_grid").find(".dipl_team_grid_items").fadeOut("fast",function(){t(this).html(e),t(this).fadeIn("fast",function(){a()})}))},error:function(){}})}),t(window).on("resize",function(){a()})});